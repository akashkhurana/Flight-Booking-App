<link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
             
      <!-- <a routerLink="/update/{{item.id}}">
              </a> -->

<div id="addFlight" class="modal fade">
  <div class="modal-dialog">
    <div class="modal-content">
      <form [formGroup]="flightDetails" action="" (ngSubmit)="saveFlight()">
        <div class="modal-header">						
          <h4 class="modal-title">Add Flight</h4>
          <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
        </div>
        <div class="modal-body">					
          <div class="form-group">
            <label>Airline</label>
            <select name="airline" class="form-control" formControlName="airline" >
              <option value ="Air India">
                Air India
              </option>
              <option value="Indigo">
                Indigo
              </option>
              <option value="Spicejet">
                Spicejet
              </option>
              <option value="Vistara">
                Vistara
              </option>
            </select>
            <span class="text-danger" *ngIf="flightDetails.controls['airline'].touched && !flightDetails.controls['airline'].valid">*Airline is required</span>
            <br>
          </div>
          <div class="form-group">
            <label>Flight No.</label>
            <input type="text" class="form-control" formControlName="flightNo" required>
            <span class="text-danger" *ngIf="flightDetails.controls['flightNo'].touched && !flightDetails.controls['flightNo'].valid">*Flight no. is required</span>
            <br>
          </div>
          <div class="form-group">
            <label>From</label>
            <select name="From" class="form-control" formControlName="from">
              <option *ngFor="let city of cityList" [value]="city.name" >
                {{city.name}}
                </option>
            </select>
            <span class="text-danger" *ngIf="flightDetails.controls['from'].touched && !flightDetails.controls['from'].valid">*From Location is required</span>
            <br>
          </div>
          <div class="form-group">
            <label>To</label>
            <select name="From" class="form-control" formControlName="to">
              <option *ngFor="let city of cityList" [value]="city.name" >
                {{city.name}}
              </option>
            </select>
            <span class="text-danger" *ngIf="flightDetails.controls['to'].touched && !flightDetails.controls['to'].valid">*To is required</span>
            <br>
            <label>Date</label>
            <input class="form-control" type="date" formControlName="date">
            <span class="text-danger" *ngIf="flightDetails.controls['date'].touched && !flightDetails.controls['date'].valid">*Date is required</span>
            <br>
            <label>Tickets available</label>
            <input type="number" class="form-control" formControlName="tickets" required>
            <span class="text-danger" *ngIf="flightDetails.controls['tickets'].touched && !flightDetails.controls['tickets'].valid">*Tickets are required</span>
            <br>
            <label>Fare</label>
            <input type="number" class="form-control" formControlName="fare" required >
            <span class="text-danger" *ngIf="flightDetails.controls['fare'].touched && !flightDetails.controls['fare'].valid">*Flight no. is required</span>
            <br>
          </div>							
        </div>
        <div class="modal-footer">
          <input type="button" class="btn btn-default" data-dismiss="modal" value="Cancel">
          <input type="submit" class="btn btn-success" onclick="window.location.reload()" value="Add">
        </div>
      </form>
    </div>
  </div>
</div>
<!-- Edit Modal HTML -->
<div id="editFlight" class="modal fade">
  <div class="modal-dialog">
    <div class="modal-content">
      <form>
        <div class="modal-header">						
          <h4 class="modal-title">Update Flight</h4>
          <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
        </div>
        <div class="modal-body">					
          <div class="form-group">
            <label>Airline</label>
            <select name="airline" class="form-control" >
              <option value ="Air India">
                Air India
              </option>
              <option value="Indigo">
                Indigo
              </option>
              <option value="Spicejet">
                Spicejet
              </option>
              <option value="Vistara">
                Vistara
              </option>
            </select>
          </div>
          <div class="form-group">
            <label>Flight No.</label>
            <input type="text" class="form-control" required>
          </div>
          <div class="form-group">
            <label>From</label>
            <select name="From" class="form-control">
              <option *ngFor="let city of cityList" [value]="city.name" >
                {{city.name}}
                </option>
            </select>
          </div>
          <div class="form-group">
            <label>To</label>
            <select name="From" class="form-control">
              <option *ngFor="let city of cityList" [value]="city.name" >
                {{city.name}}
              </option>
            </select>
            <label>Date</label>
            <input class="form-control" type="date" >
            <label>Tickets available</label>
            <input type="number" class="form-control" required>
            <label>Fare</label>
            <input type="number" class="form-control" required>
          </div>							
        </div>
        <div class="modal-footer">
          <input type="button" class="btn btn-default" data-dismiss="modal" value="Cancel">
          <input type="submit" class="btn btn-success" value="Add">
        </div>
      </form>
    </div>
  </div>
</div>



	<div class="limiter">
		<div class="container-table100">
      <div class="wrap-table100">
        <div class="jumbotron jumbotron-fluid pb-0 pt-5 w-100">
          <div class="container">
            <h1 class="display-4">Current Flights</h1>
            <a href="#addFlight" class="btn btn-secondary btn-lg col-md-3 float-right" id="addButton" data-toggle="modal"> <span>+Add New</span></a>
          </div>
        </div>
					<div class="table">
						<div class="row header">
							<div class="cell">
								Airline
							</div>
							<div class="cell">
								Flight No.
							</div>
							<div class="cell">
								From
							</div>
							<div class="cell">
								To
							</div>
              <div class="cell">
								Date
							</div>
              <div class="cell">
								Tickets Available
							</div>
              <div class="cell">
								Fare
							</div>
              <div class="cell">
								Actions
							</div>
						</div>

						<div class="row" *ngFor= "let flight of flightList">
							<div class="cell" data-title="Full Name">
								{{flight.airline}}
							</div>
							<div class="cell" data-title="Age">
								{{flight.flightNo}}
							</div>
							<div class="cell" data-title="Job Title">
								{{flight.from}}
							</div>
							<div class="cell" data-title="Location">
								{{flight.to}}
							</div>
              <div class="cell" data-title="Location">
								{{flight.date|date: 'dd-MMM-yyyy'}}
							</div>
              <div class="cell" data-title="Location">
								{{flight.tickets}}
							</div>
              <div class="cell" data-title="Location">
								{{flight.fare}}
							</div>
              <div class="cell">
                <a href="#editFlight" data-toggle="modal">
                  <span class="material-icons text-warning">
                    mode_edit
                  </span>
                </a>
                
                <a href="#deleteFlight" data-toggle="modal" (click)="deleteFlight(flight._id)">
                  <span class="material-icons text-danger">
                    delete
                  </span>  
                </a>
                  
              </div>
						</div>
					</div>
			</div>
		</div>
	</div>

  <div id="deleteFlight" class="modal fade">
    <div class="modal-dialog">
      <div class="modal-content">
        <form>
          <div class="modal-header">						
            <h4 class="modal-title">Delete Flight</h4>
            <button type="button" class="close" data-dismiss="modal" >&times;</button>
          </div>
          <div class="modal-body">					
            <p>Are you sure you want to delete this Flight?</p>
            <p class="text-warning"><small>This action cannot be undone.</small></p>
          </div>
          <div class="modal-footer">
            <input type="button" class="btn btn-default" data-dismiss="modal" value="Cancel">
            <input type="submit" class="btn btn-danger" value="delete" (click)="confirmDelete()">
          </div>
        </form>
      </div>
    </div>
  </div>
  